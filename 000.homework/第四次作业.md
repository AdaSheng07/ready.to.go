# Practice Summary 4

### 千人体脂率实时排行榜

1. 有 1000 个人注册
2. 这 1000 个人不停地去更新自己的体脂信息，每个人的体脂范围随机范围在 Base 加减 0.2 之间。Base 取值在体脂排行的有效范围：[0,0.4]。
3. 每次更新自己的体脂信息后，直接返回该人在排行榜中的排名
4. 这 1000 个人在不停地去获取自己在体脂排行榜中的排名

要求：
1. 程序不能崩溃退出
2. 程序数据不能出错
3. 分别用锁、channel 技术实现
4. 作业中需提供分析草图

### 问题分析思路

将实时排行榜的工作流程进行分解：
1. 初始化
   - 初始化1000个人的注册信息
   - 随机生成Base和每个人的体脂率随机值
   - 对千人体脂率进行排序，生成初始排名
   - 初始化只做一次
2. 查询排名
   - 对1000人的体脂率进行排序
   - 查询某人体脂率在其中的排名
   - 打印排名结果
3. 更新体脂率
   - 某个人更新体脂率
   - 对1000人的体脂率重新排序
   - 自动查询此人体脂率的新排名
   - 打印新排名结果
4. 功能并行
   - 查询排名与更新体脂率同时发生
   - 实时排行榜持续运行




